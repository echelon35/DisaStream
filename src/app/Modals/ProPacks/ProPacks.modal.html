<div (click)="this.close()" class="fixed top-0 left-0 z-modal-bg bg-gray-300 w-dvw h-dvh opacity-60" *ngIf="isVisible" ></div>
<div *ngIf="isVisible" class="z-modal fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white shadow sm:rounded-lg w-96">
    <div class="px-4 py-5 sm:p-6">
      <h3 class="text-base font-semibold text-gray-900">Interess√©s par nos offres pro ?</h3>
      <div class="absolute right-0 top-0 hidden pr-4 pt-4 sm:block">
        <button (click)="this.close()" type="button" class="rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
          <span class="sr-only">Close</span>
          <svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="mt-2 text-sm text-gray-500">
        <p class="w-full">Laissez-nous un message avec votre email que nous puissions vous recontacter.</p>
      </div>
      <form [formGroup]="sendMailForm" (ngSubmit)="sendMail()" class="mt-5 sm:items-center">
        <div class="w-full sm:max-w-xs">
          <label for="email" class="sr-only">Email</label>
          <div class="text-red-400 text-sm mb-2" *ngIf="mailFormField?.invalid && mailFormField?.value">Adresse mail incorrecte</div>
          <div class="text-red-400 text-sm mb-2" *ngIf="submit && !mailFormField?.value">Veuillez saisir votre adresse mail</div>
          <div class="relative rounded-md shadow-sm">
            <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
              <svg class="size-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                <path d="M3 4a2 2 0 0 0-2 2v1.161l8.441 4.221a1.25 1.25 0 0 0 1.118 0L19 7.162V6a2 2 0 0 0-2-2H3Z" />
                <path d="m19 8.839-7.77 3.885a2.75 2.75 0 0 1-2.46 0L1 8.839V14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.839Z" />
              </svg>
            </div>
            <input formControlName="mail" placeholder="user@mail.com" required type="email" class="block w-full rounded-md border-0 py-1.5 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
          </div>          
        </div>
        <div class="w-full sm:max-w-xs mt-2">
          <label for="comment" class="block text-sm/6 font-medium text-gray-900">Ajouter un commentaire (facultatif)</label>
          <div class="mt-2">
            <textarea formControlName="comment" rows="4" name="comment" id="comment" class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"></textarea>
          </div>
        </div>
        <button type="submit" class="mt-3 inline-flex w-full items-center justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:mr-3 sm:w-auto">
            <span *ngIf="!this.loading">Envoyer</span>
            <span *ngIf="this.loading">
                <app-spinner [width]="'w-4'" [dark]="false"></app-spinner>
            </span>
        </button>
      </form>
    </div>
  </div>
  