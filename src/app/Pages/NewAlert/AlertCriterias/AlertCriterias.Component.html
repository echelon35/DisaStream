<div *ngIf="hasEarthquake" class="criterias-container space-y-4">
    <h3 class="text-sm font-medium text-gray-900">Critères pour les séismes</h3>
    <p class="text-xs text-gray-500">Configurez des filtres optionnels pour être alerté uniquement quand certaines conditions sont remplies.</p>
    
    <!-- Magnitude Criteria -->
    <div class="space-y-2">
        <div class="flex items-center">
            <input 
                type="checkbox" 
                id="enable-magnitude" 
                [checked]="isMagnitudeEnabled()"
                (change)="toggleMagnitudeCriteria($any($event.target).checked)"
                class="size-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600">
            <label for="enable-magnitude" class="ml-2 text-sm text-gray-700">
                Magnitude (ex: magnitude > 5.0)
            </label>
        </div>
        <div *ngIf="isMagnitudeEnabled()" class="ml-6 flex gap-2 items-center">
            <select 
                [(ngModel)]="earthquakeCriteria.magnitude!.operator"
                (change)="emitCriterias()"
                class="block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm">
                <option *ngFor="let op of numericOperators" [value]="op.value">{{ op.label }}</option>
            </select>
            <input 
                type="number" 
                step="0.1"
                min="0"
                [(ngModel)]="earthquakeCriteria.magnitude!.value"
                (input)="emitCriterias()"
                placeholder="ex: 5.0"
                class="block w-32 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm">
        </div>
    </div>

    <!-- Nb Ressenti Criteria -->
    <div class="space-y-2">
        <div class="flex items-center">
            <input 
                type="checkbox" 
                id="enable-nb-ressenti" 
                [checked]="isNbRessentiEnabled()"
                (change)="toggleNbRessentiCriteria($any($event.target).checked)"
                class="size-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600">
            <label for="enable-nb-ressenti" class="ml-2 text-sm text-gray-700">
                Nombre de ressentis (ex: nb_ressenti > 100)
            </label>
        </div>
        <div *ngIf="isNbRessentiEnabled()" class="ml-6 flex gap-2 items-center">
            <select 
                [(ngModel)]="earthquakeCriteria.nb_ressenti!.operator"
                (change)="emitCriterias()"
                class="block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm">
                <option *ngFor="let op of numericOperators" [value]="op.value">{{ op.label }}</option>
            </select>
            <input 
                type="number" 
                step="1"
                min="0"
                [(ngModel)]="earthquakeCriteria.nb_ressenti!.value"
                (input)="emitCriterias()"
                placeholder="ex: 100"
                class="block w-32 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm">
        </div>
    </div>

    <!-- Lien Source Criteria -->
    <div class="space-y-2">
        <div class="flex items-center">
            <input 
                type="checkbox" 
                id="enable-lien-source" 
                [checked]="isLienSourceEnabled()"
                (change)="toggleLienSourceCriteria($any($event.target).checked)"
                class="size-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600">
            <label for="enable-lien-source" class="ml-2 text-sm text-gray-700">
                Source (ex: lien_source contient "USGS")
            </label>
        </div>
        <div *ngIf="isLienSourceEnabled()" class="ml-6 flex gap-2 items-center">
            <select 
                [(ngModel)]="earthquakeCriteria.lien_source!.operator"
                (change)="emitCriterias()"
                class="block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm">
                <option *ngFor="let op of stringOperators" [value]="op.value">{{ op.label }}</option>
            </select>
            <input 
                type="text"
                [(ngModel)]="earthquakeCriteria.lien_source!.value"
                (input)="emitCriterias()"
                placeholder="ex: USGS"
                class="block flex-1 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm">
        </div>
    </div>
</div>
<div *ngIf="!hasEarthquake" class="text-sm text-gray-500">
    Sélectionnez un type d'aléa pour configurer des critères spécifiques.
</div>